<nav class="navbar" id="navbar">
    <div class="nav-container">
        <a href="index.html" class="nav-logo">
            <i class="fas fa-sparkles"></i>
            <span>SRG PYRO PARK</span>
        </a>
        
        <div class="nav-menu" id="nav-menu">
            <a href="index.html#home" class="nav-link">Home</a>
            <a href="index.html#about" class="nav-link">About</a>
            <a href="productlist.html" class="nav-link">Products</a>
            <a href="index.html#safety" class="nav-link">Safety Tips</a>
            <a href="index.html#contact" class="nav-link">Contact</a>
        </div>
        
        <!-- Shopping Cart Icon (only show on products page) -->
        <div class="cart-icon" id="cart-icon" onclick="toggleCart()" style="display: none;">
            <i class="fas fa-shopping-cart"></i>
            <span class="cart-count" id="cart-count">0</span>
        </div>
        
        <div class="nav-toggle" id="nav-toggle">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </div>
    </div>
</nav>

<script>
// Initialize navbar functionality globally
window.initNavbarFunctionality = function() {
    const navbar = document.getElementById('navbar');
    const navToggle = document.getElementById('nav-toggle');
    const navMenu = document.getElementById('nav-menu');
    const navLinks = document.querySelectorAll('.nav-link');
    const cartIcon = document.getElementById('cart-icon');
    
    // Show cart icon only on products page
    if (window.location.pathname.includes('productlist.html')) {
        if (cartIcon) {
            cartIcon.style.display = 'block';
        }
    }
    
    // Navbar scroll effect
    window.addEventListener('scroll', function() {
        if (window.scrollY > 50) {
            navbar.classList.add('scrolled');
        } else {
            navbar.classList.remove('scrolled');
        }
    });
    
    // Mobile menu toggle
    if (navToggle && navMenu) {
        navToggle.addEventListener('click', function() {
            navMenu.classList.toggle('active');
            navToggle.classList.toggle('active');
        });
    }
    
    // Close mobile menu when clicking on a link
    navLinks.forEach(link => {
        link.addEventListener('click', function() {
            if (navMenu) {
                navMenu.classList.remove('active');
            }
            if (navToggle) {
                navToggle.classList.remove('active');
            }
        });
    });
    
    // Smooth scrolling for navigation links (only for same-page links)
    navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            const href = this.getAttribute('href');
            
            // Check if it's a same-page anchor link
            if (href && href.startsWith('#')) {
                e.preventDefault();
                const targetSection = document.querySelector(href);
                
                if (targetSection) {
                    const offsetTop = targetSection.offsetTop - 70;
                    window.scrollTo({
                        top: offsetTop,
                        behavior: 'smooth'
                    });
                }
            }
            // For cross-page links (like index.html#about), let them navigate normally
        });
    });
    
    // Add active class based on current page
    const currentPath = window.location.pathname;
    navLinks.forEach(link => {
        const linkPath = link.getAttribute('href');
        if ((currentPath.includes('index.html') || currentPath === '/' || currentPath === '') && linkPath.includes('index.html')) {
            link.classList.add('active');
        } else if (currentPath.includes('productlist.html') && linkPath.includes('productlist.html')) {
            link.classList.add('active');
        }
    });
};
</script>